<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Orbit</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../styling/base.css">
    <link rel="stylesheet" href="../styling/components.css">
    <link rel="stylesheet" href="../styling/global.css">
    <link rel="stylesheet" href="../styling/login.css">
    
    <!-- Component Loader Script -->
    <script src="../Scripts/component-loader.js"></script>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EðŸ›¸%3C/text%3E%3C/svg%3E">
    
    <!-- Theme script (inline for performance) -->
    <script>
        const savedTheme = localStorage.getItem('theme');
        const theme = savedTheme || 'dark';
        document.documentElement.setAttribute('data-theme', theme);
        
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
            if (!localStorage.getItem('theme')) {
                document.documentElement.setAttribute('data-theme', e.matches ? 'dark' : 'light');
            }
        });
    </script>
</head>
<body>
    <!-- Navigation Component -->
    <div id="navbar-container" data-component="../components/navbar.html"></div>
    
    <!-- Main Authentication Container -->
    <main class="auth-container flex items-center justify-center relative">
        <!-- Floating Background Elements -->
        <div class="floating-elements">
            <div class="floating-element"></div>
            <div class="floating-element"></div>
            <div class="floating-element"></div>
        </div>
        
        <div class="container max-w-md mx-auto p-6 relative z-10">
            <!-- Logo and Brand -->
            <div class="text-center mb-8">
                <div class="logo-animation text-6xl mb-4">ðŸ›¸</div>
                <h1 class="text-3xl font-bold text-primary mb-2">Welcome to Orbit</h1>
                <p class="text-secondary">Your gateway to intelligent learning analytics</p>
            </div>
            
            <!-- Authentication Card -->
            <div class="auth-card rounded-2xl p-8 shadow-2xl">
                <!-- Login Form -->
                <form id="login-form" class="space-y-6">
                    <div class="text-center mb-6">
                        <h2 class="text-2xl font-semibold mb-2">Sign In</h2>
                        <p class="text-secondary text-sm">Enter your credentials to access your account</p>
                    </div>
                    
                    <!-- Email Field -->
                    <div class="form-group">
                        <label for="login-email" class="form-label">Email Address</label>
                        <input 
                            type="email" 
                            id="login-email" 
                            name="email"
                            class="form-input" 
                            placeholder="Enter your email"
                            required
                            autocomplete="email"
                        >
                        <div id="email-error" class="form-error"></div>
                    </div>
                    
                    <!-- Password Field -->
                    <div class="form-group">
                        <label for="login-password" class="form-label">Password</label>
                        <div class="relative">
                            <input 
                                type="password" 
                                id="login-password" 
                                name="password"
                                class="form-input pr-12" 
                                placeholder="Enter your password"
                                required
                                autocomplete="current-password"
                            >
                            <button 
                                type="button" 
                                id="toggle-login-password"
                                class="absolute right-3 top-1/2 transform -translate-y-1/2 text-muted hover:text-primary transition-colors"
                                aria-label="Toggle password visibility"
                            >
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                </svg>
                            </button>
                        </div>
                        <div id="password-error" class="form-error"></div>
                    </div>
                    
                    <!-- Remember Me & Forgot Password -->
                    <div class="flex items-center justify-between text-sm">
                        <label class="flex items-center gap-2">
                            <input type="checkbox" id="remember-me" class="rounded border-primary">
                            <span class="text-secondary">Remember me</span>
                        </label>
                        <button type="button" id="forgot-password-link" class="text-primary-blue hover:text-primary-blue-hover transition-colors">
                            Forgot password?
                        </button>
                    </div>
                    
                    <!-- Login Button -->
                    <button type="submit" id="login-submit" class="btn btn-primary w-full btn-lg">
                        Sign In
                    </button>
                    
                    <!-- Social Login Divider -->
                    <div class="flex items-center gap-4 my-6">
                        <div class="flex-1 h-px bg-border-primary"></div>
                        <span class="text-muted text-sm">or</span>
                        <div class="flex-1 h-px bg-border-primary"></div>
                    </div>
                    
                    <!-- Google Sign In -->
                    <button type="button" id="google-signin" class="social-button btn btn-outline w-full flex items-center justify-center gap-3">
                        <svg width="20" height="20" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Continue with Google
                    </button>
                </form>
                
                <!-- Sign Up Form (Hidden by default) -->
                <form id="signup-form" class="space-y-6 hidden">
                    <div class="text-center mb-6">
                        <h2 class="text-2xl font-semibold mb-2">Create Account</h2>
                        <p class="text-secondary text-sm">Join Orbit and start your learning journey</p>
                    </div>
                    
                    <!-- Full Name Field -->
                    <div class="form-group">
                        <label for="signup-name" class="form-label">Full Name</label>
                        <input 
                            type="text" 
                            id="signup-name" 
                            name="name"
                            class="form-input" 
                            placeholder="Enter your full name"
                            required
                            autocomplete="name"
                        >
                        <div id="name-error" class="form-error"></div>
                    </div>
                    
                    <!-- Email Field -->
                    <div class="form-group">
                        <label for="signup-email" class="form-label">Email Address</label>
                        <input 
                            type="email" 
                            id="signup-email" 
                            name="email"
                            class="form-input" 
                            placeholder="Enter your email"
                            required
                            autocomplete="email"
                        >
                        <div id="signup-email-error" class="form-error"></div>
                    </div>
                    
                    <!-- Password Field -->
                    <div class="form-group">
                        <label for="signup-password" class="form-label">Password</label>
                        <div class="relative">
                            <input 
                                type="password" 
                                id="signup-password" 
                                name="password"
                                class="form-input pr-12" 
                                placeholder="Create a strong password"
                                required
                                autocomplete="new-password"
                            >
                            <button 
                                type="button" 
                                id="toggle-signup-password"
                                class="absolute right-3 top-1/2 transform -translate-y-1/2 text-muted hover:text-primary transition-colors"
                                aria-label="Toggle password visibility"
                            >
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                </svg>
                            </button>
                        </div>
                        
                        <!-- Password Strength Indicator -->
                        <div class="password-strength">
                            <div id="password-strength-bar" class="password-strength-bar"></div>
                        </div>
                        <div id="password-strength-text" class="text-xs text-muted mt-1"></div>
                        <div id="signup-password-error" class="form-error"></div>
                    </div>
                    
                    <!-- Confirm Password Field -->
                    <div class="form-group">
                        <label for="confirm-password" class="form-label">Confirm Password</label>
                        <input 
                            type="password" 
                            id="confirm-password" 
                            name="confirmPassword"
                            class="form-input" 
                            placeholder="Confirm your password"
                            required
                            autocomplete="new-password"
                        >
                        <div id="confirm-password-error" class="form-error"></div>
                    </div>
                    
                    <!-- Terms and Conditions -->
                    <div class="flex items-start gap-2">
                        <input type="checkbox" id="terms-agreement" class="mt-1 rounded border-primary" required>
                        <label for="terms-agreement" class="text-sm text-secondary">
                            I agree to the <a href="#" class="text-primary-blue hover:text-primary-blue-hover transition-colors">Terms of Service</a> 
                            and <a href="#" class="text-primary-blue hover:text-primary-blue-hover transition-colors">Privacy Policy</a>
                        </label>
                    </div>
                    
                    <!-- Sign Up Button -->
                    <button type="submit" id="signup-submit" class="btn btn-primary w-full btn-lg">
                        Create Account
                    </button>
                    
                    <!-- Social Login Divider -->
                    <div class="flex items-center gap-4 my-6">
                        <div class="flex-1 h-px bg-border-primary"></div>
                        <span class="text-muted text-sm">or</span>
                        <div class="flex-1 h-px bg-border-primary"></div>
                    </div>
                    
                    <!-- Google Sign Up -->
                    <button type="button" id="google-signup" class="social-button btn btn-outline w-full flex items-center justify-center gap-3">
                        <svg width="20" height="20" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Sign up with Google
                    </button>
                </form>
                
                <!-- Password Reset Form (Hidden by default) -->
                <form id="reset-form" class="space-y-6 hidden">
                    <div class="text-center mb-6">
                        <h2 class="text-2xl font-semibold mb-2">Reset Password</h2>
                        <p class="text-secondary text-sm">Enter your email to receive a password reset link</p>
                    </div>
                    
                    <!-- Email Field -->
                    <div class="form-group">
                        <label for="reset-email" class="form-label">Email Address</label>
                        <input 
                            type="email" 
                            id="reset-email" 
                            name="email"
                            class="form-input" 
                            placeholder="Enter your email"
                            required
                            autocomplete="email"
                        >
                        <div id="reset-email-error" class="form-error"></div>
                    </div>
                    
                    <!-- Reset Button -->
                    <button type="submit" id="reset-submit" class="btn btn-primary w-full btn-lg">
                        Send Reset Link
                    </button>
                    
                    <!-- Back to Login -->
                    <button type="button" id="back-to-login" class="btn btn-ghost w-full">
                        Back to Login
                    </button>
                </form>
                
                <!-- Form Toggle Links -->
                <div class="form-toggle">
                    <p id="login-toggle" class="text-secondary text-sm">
                        Don't have an account? 
                        <button type="button" id="show-signup" class="text-primary-blue hover:text-primary-blue-hover font-medium transition-colors">
                            Sign up here
                        </button>
                    </p>
                    <p id="signup-toggle" class="text-secondary text-sm hidden">
                        Already have an account? 
                        <button type="button" id="show-login" class="text-primary-blue hover:text-primary-blue-hover font-medium transition-colors">
                            Sign in here
                        </button>
                    </p>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer Component -->
    <div id="footer-container" data-component="../components/footer.html"></div>
    
    <!-- Firebase Scripts -->
    <script type="module" src="../firebase/app.js"></script>
    <script src="../firebase/auth.js"></script>
    
    <!-- Component Scripts -->
    <script src="../components/navbar.js"></script>
    <script src="../components/footer.js"></script>
    
    <!-- Login Page Script -->
    <script type="module" src="../Scripts/login.js"></script>
</body>
</html>
